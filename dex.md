# Oboswap Core Contracts Architecture

This document explains how all Oboswap contracts are connected and how the decentralized exchange (DEX) works.

## ðŸ—ï¸ Architecture Overview

```
                    â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
                    â”‚                 OBOSWAP ECOSYSTEM                      â”‚
                    â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
                                              â”‚
        â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”´â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
        â”‚                     â”‚                                   â”‚                     â”‚
   â”Œâ”€â”€â”€â”€â–¼â”€â”€â”€â”€â”         â”Œâ”€â”€â”€â”€â”€â–¼â”€â”€â”€â”€â”€â”                        â”Œâ”€â”€â”€â”€â–¼â”€â”€â”€â”€â”         â”Œâ”€â”€â”€â”€â”€â–¼â”€â”€â”€â”€â”€â”
   â”‚ ðŸ‘¤ USER â”‚         â”‚ ðŸª™ TokenA â”‚                        â”‚ ðŸª™ TokenBâ”‚         â”‚ðŸ”„ Router  â”‚
   â”‚ Trader  â”‚         â”‚  (ERC20)  â”‚                        â”‚  (ERC20) â”‚         â”‚(Future)   â”‚
   â””â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”˜         â””â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”˜                        â””â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”˜         â””â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”˜
        â”‚                    â”‚                                   â”‚                    â”‚
        â”‚              â”Œâ”€â”€â”€â”€â”€â–¼â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â–¼â”€â”€â”€â”€â”€â”              â”‚
        â”‚              â”‚          ðŸ­ OBOSWAP FACTORY                   â”‚              â”‚
        â”‚              â”‚     â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”       â”‚              â”‚
        â”‚              â”‚     â”‚ â€¢ Creates Trading Pairs        â”‚       â”‚              â”‚
        â”‚              â”‚     â”‚ â€¢ Manages Fee Settings         â”‚â—„â”€â”€â”€â”€â”€â”€â”¼â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
        â”‚              â”‚     â”‚ â€¢ Registry of All Pairs        â”‚       â”‚
        â”‚              â”‚     â”‚ â€¢ Protocol Governance          â”‚       â”‚
        â”‚              â”‚     â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜       â”‚
        â”‚              â””â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”˜
        â”‚                    â”‚                                   â”‚
        â”‚              â”Œâ”€â”€â”€â”€â”€â–¼â”€â”€â”€â”€â”€â”                     â”Œâ”€â”€â”€â”€â”€â–¼â”€â”€â”€â”€â”€â”
        â”‚              â”‚ðŸ’± PAIR #1 â”‚                     â”‚ðŸ’± PAIR #2 â”‚
        â”‚              â”‚TokenA/TokenB                    â”‚TokenX/TokenY
        â”‚              â”‚           â”‚                     â”‚           â”‚
        â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¼â”€â”€â”€ AMM â”€â”€â”€â”¤                     â”‚   AMM     â”‚
                       â”‚  Engine   â”‚                     â”‚  Engine   â”‚
                       â”‚           â”‚                     â”‚           â”‚
                       â””â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”˜                     â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
                             â”‚
                   â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â–¼â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
                   â”‚  ðŸ“œ OBOSWAP ERC20  â”‚
                   â”‚   (LP Tokens)      â”‚
                   â”‚ â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”â”‚
                   â”‚ â”‚ â€¢ Liquidity     â”‚â”‚
                   â”‚ â”‚   Ownership     â”‚â”‚
                   â”‚ â”‚ â€¢ Fee Sharing   â”‚â”‚
                   â”‚ â”‚ â€¢ Transferable  â”‚â”‚
                   â”‚ â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜â”‚
                   â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜

              â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
              â”‚               CORE LIBRARIES                        â”‚
              â”‚                                                     â”‚
              â”‚  ðŸ§® Math        ðŸ”¢ SafeMath       ðŸ“ UQ112x112      â”‚
              â”‚  Library        Library           Fixed Point       â”‚
              â”‚                                                     â”‚
              â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
```

## ðŸ”— Contract Relationships

### 1. **OboswapFactory** - The Central Hub ðŸ­

```
                           â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
                           â”‚           OBOSWAP FACTORY               â”‚
                           â”‚                                         â”‚
    â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â–ºâ”‚  ðŸ“‹ FUNCTIONS:                         â”‚
    â”‚                      â”‚  â”œâ”€ createPair(tokenA, tokenB)         â”‚
    â”‚ User Request          â”‚  â”œâ”€ getPair(tokenA, tokenB)           â”‚
    â”‚                      â”‚  â”œâ”€ allPairsLength()                   â”‚
    â”‚                      â”‚  â”œâ”€ setFeeTo(address)                  â”‚
    â”‚                      â”‚  â””â”€ setFeeToSetter(address)            â”‚
    â”‚                      â”‚                                         â”‚
    â”‚                      â”‚  ðŸ’¾ STORAGE:                           â”‚
    â”‚                      â”‚  â”œâ”€ mapping(tokenâ†’tokenâ†’pair)          â”‚
    â”‚                      â”‚  â”œâ”€ address[] allPairs                 â”‚
    â”‚                      â”‚  â”œâ”€ address feeTo                      â”‚
    â”‚                      â”‚  â””â”€ address feeToSetter                â”‚
    â”‚                      â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
    â”‚                                        â”‚
    â”‚                           â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â–¼â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
    â”‚                           â”‚     CREATES & MANAGES   â”‚
    â”‚                           â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
    â”‚                                        â”‚
    â”‚      â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â–¼â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
    â”‚      â”‚                 â”‚                               â”‚                 â”‚
    â”‚  â”Œâ”€â”€â”€â–¼â”€â”€â”€â”         â”Œâ”€â”€â”€â–¼â”€â”€â”€â”                       â”Œâ”€â”€â”€â–¼â”€â”€â”€â”         â”Œâ”€â”€â”€â–¼â”€â”€â”€â”
    â”‚  â”‚ PAIR1 â”‚         â”‚ PAIR2 â”‚                       â”‚ PAIR3 â”‚         â”‚ PAIR4 â”‚
    â”‚  â”‚A/B    â”‚         â”‚X/Y    â”‚          ...          â”‚A/X    â”‚         â”‚B/Y    â”‚
    â”‚  â””â”€â”€â”€â”€â”€â”€â”€â”˜         â””â”€â”€â”€â”€â”€â”€â”€â”˜                       â””â”€â”€â”€â”€â”€â”€â”€â”˜         â””â”€â”€â”€â”€â”€â”€â”€â”˜
    â”‚
    â””â”€ Emits: PairCreated(token0, token1, pair, pairCount)
```

**Key Responsibilities:**
- **Creates new trading pairs** between any two ERC20 tokens
- **Maintains registry** of all existing pairs
- **Manages protocol fees** (feeTo address)
- **Controls governance** (feeToSetter permissions)

### 2. **OboswapPair** - The Trading Engine ðŸ’±

```
                    â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
                    â”‚                   OBOSWAP PAIR                           â”‚
                    â”‚                  (AMM CONTRACT)                          â”‚
                    â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
                                          â”‚
        â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¼â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
        â”‚                                 â”‚                                     â”‚
   â”Œâ”€â”€â”€â”€â–¼â”€â”€â”€â”€â”                      â”Œâ”€â”€â”€â”€â–¼â”€â”€â”€â”€â”                         â”Œâ”€â”€â”€â”€â”€â–¼â”€â”€â”€â”€â”€â”
   â”‚LIQUIDITYâ”‚                      â”‚ TRADING â”‚                         â”‚   STATE   â”‚
   â”‚FUNCTIONSâ”‚                      â”‚FUNCTIONSâ”‚                         â”‚ FUNCTIONS â”‚
   â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜                      â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜                         â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
        â”‚                                 â”‚                                     â”‚
   â”Œâ”€â”€â”€â”€â–¼â”€â”€â”€â”€â”                      â”Œâ”€â”€â”€â”€â–¼â”€â”€â”€â”€â”                         â”Œâ”€â”€â”€â”€â”€â–¼â”€â”€â”€â”€â”€â”
   â”‚ mint()  â”‚â—„â”€â”€â”€â”€ Add Liquidity   â”‚ swap()  â”‚â—„â”€â”€â”€â”€ Execute Trade      â”‚getReservesâ”‚
   â”‚         â”‚                      â”‚         â”‚                         â”‚    ()     â”‚
   â”‚ Mints   â”‚                      â”‚Updates  â”‚                         â”‚           â”‚
   â”‚LP Tokensâ”‚                      â”‚Reserves â”‚                         â”‚Current    â”‚
   â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜                      â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜                         â”‚Balances   â”‚
        â”‚                                 â”‚                             â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
   â”Œâ”€â”€â”€â”€â–¼â”€â”€â”€â”€â”                      â”Œâ”€â”€â”€â”€â–¼â”€â”€â”€â”€â”                         â”Œâ”€â”€â”€â”€â”€â–¼â”€â”€â”€â”€â”€â”
   â”‚ burn()  â”‚â—„â”€â”€â”€â”€ Remove Liquidityâ”‚getInput â”‚â—„â”€â”€â”€â”€ Calculate Output   â”‚price0Cum- â”‚
   â”‚         â”‚                      â”‚Price()  â”‚                         â”‚ulative() â”‚
   â”‚ Burns   â”‚                      â”‚         â”‚                         â”‚           â”‚
   â”‚LP Tokensâ”‚                      â”‚AMM Math â”‚                         â”‚Oracle Dataâ”‚
   â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜                      â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜                         â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜

                            â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
                            â”‚          STORAGE STATE          â”‚
                            â”‚                                 â”‚
                            â”‚  ðŸ’° reserve0  (Token A Balance) â”‚
                            â”‚  ðŸ’° reserve1  (Token B Balance) â”‚
                            â”‚  â° blockTimestampLast          â”‚
                            â”‚  ðŸ“Š price0CumulativeLast        â”‚
                            â”‚  ðŸ“Š price1CumulativeLast        â”‚
                            â”‚  ðŸ” kLast (invariant)           â”‚
                            â”‚  ðŸ”’ unlocked (reentrancy)       â”‚
                            â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜

                            â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
                            â”‚         INHERITED FROM          â”‚
                            â”‚       OBOSWAP ERC20            â”‚
                            â”‚                                 â”‚
                            â”‚  ðŸ“œ LP Token Functions:         â”‚
                            â”‚  â”œâ”€ transfer()                  â”‚
                            â”‚  â”œâ”€ approve()                   â”‚
                            â”‚  â”œâ”€ transferFrom()              â”‚
                            â”‚  â”œâ”€ permit() (meta-txns)        â”‚
                            â”‚  â””â”€ balanceOf()                 â”‚
                            â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
```

**Key Features:**
- **Automated Market Maker (AMM)** using constant product formula: `x * y = k`
- **Liquidity Provider (LP) tokens** representing ownership share
- **Price oracles** with time-weighted average prices (TWAP)
- **Flash loan capabilities** via swap with callback

### 3. **OboswapERC20** - LP Token Standard ðŸ“œ

```
                         â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
                         â”‚            OBOSWAP ERC20                â”‚
                         â”‚         (LP TOKEN CONTRACT)             â”‚
                         â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
                                           â”‚
                    â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¼â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
                    â”‚                      â”‚                      â”‚
             â”Œâ”€â”€â”€â”€â”€â”€â–¼â”€â”€â”€â”€â”€â”€â”        â”Œâ”€â”€â”€â”€â”€â–¼â”€â”€â”€â”€â”€â”        â”Œâ”€â”€â”€â”€â”€â”€â–¼â”€â”€â”€â”€â”€â”€â”
             â”‚   STANDARD  â”‚        â”‚  EXTENDED â”‚        â”‚   PERMIT    â”‚
             â”‚ ERC20 FUNCS â”‚        â”‚ FUNCTIONS â”‚        â”‚ FUNCTIONS   â”‚
             â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜        â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜        â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
                    â”‚                      â”‚                      â”‚
             â”Œâ”€â”€â”€â”€â”€â”€â–¼â”€â”€â”€â”€â”€â”€â”        â”Œâ”€â”€â”€â”€â”€â–¼â”€â”€â”€â”€â”€â”        â”Œâ”€â”€â”€â”€â”€â”€â–¼â”€â”€â”€â”€â”€â”€â”
             â”‚ transfer()  â”‚        â”‚   name    â”‚        â”‚ permit()    â”‚
             â”‚ approve()   â”‚        â”‚  symbol   â”‚        â”‚            â”‚
             â”‚transferFromâ”‚        â”‚ decimals  â”‚        â”‚ Meta-txns   â”‚
             â”‚ balanceOf() â”‚        â”‚totalSupplyâ”‚        â”‚ (Gasless)   â”‚
             â”‚ allowance() â”‚        â”‚           â”‚        â”‚             â”‚
             â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜        â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜        â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜

                         â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
                         â”‚              REPRESENTS                 â”‚
                         â”‚                                         â”‚
                         â”‚  ðŸ¦ Share of Liquidity Pool            â”‚
                         â”‚  ðŸ’° Claim on Trading Fees              â”‚
                         â”‚  ðŸ”„ Proportional Token Ownership       â”‚
                         â”‚  ï¿½ï¿½ Transferable & Tradeable           â”‚
                         â”‚                                         â”‚
                         â”‚  Formula: LP = âˆš(amount0 Ã— amount1)    â”‚
                         â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
```

## ðŸ”„ Trading Flow Diagram

```
    ðŸ‘¤ USER                ðŸ­ FACTORY              ðŸ’± PAIR                ðŸª™ TOKENS
       â”‚                      â”‚                      â”‚                      â”‚
       â”‚                      â”‚                      â”‚                      â”‚
   â”Œâ”€â”€â”€â”´â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”´â”€â”€â”€â”
   â”‚                    1. CREATING A TRADING PAIR                              â”‚
   â””â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”˜
       â”‚                      â”‚                      â”‚                      â”‚
       â”‚ createPair(A,B)      â”‚                      â”‚                      â”‚
       â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â–ºâ”‚                      â”‚                      â”‚
       â”‚                      â”‚ deploy new contract  â”‚                      â”‚
       â”‚                      â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â–ºâ”‚                      â”‚
       â”‚                      â”‚ initialize(A,B)      â”‚                      â”‚
       â”‚                      â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â–ºâ”‚                      â”‚
       â”‚                      â”‚ pair address         â”‚                      â”‚
       â”‚                      â”‚â—„â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤                      â”‚
       â”‚ pair created âœ…      â”‚                      â”‚                      â”‚
       â”‚â—„â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤                      â”‚                      â”‚
       â”‚                      â”‚                      â”‚                      â”‚
   â”Œâ”€â”€â”€â”´â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”´â”€â”€â”€â”
   â”‚                    2. ADDING LIQUIDITY                                     â”‚
   â””â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”˜
       â”‚                      â”‚                      â”‚                      â”‚
       â”‚                      â”‚                      â”‚ approve(pair, amtA)  â”‚
       â”‚                      â”‚                      â”‚â—„â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤
       â”‚                      â”‚                      â”‚ approve(pair, amtB)  â”‚
       â”‚                      â”‚                      â”‚â—„â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤
       â”‚ mint(to)             â”‚                      â”‚                      â”‚
       â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â–ºâ”‚                      â”‚
       â”‚                      â”‚                      â”‚ transferFrom(A,amtA) â”‚
       â”‚                      â”‚                      â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â–ºâ”‚
       â”‚                      â”‚                      â”‚ transferFrom(B,amtB) â”‚
       â”‚                      â”‚                      â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â–ºâ”‚
       â”‚ mint LP tokens       â”‚                      â”‚                      â”‚
       â”‚â—„â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤                      â”‚
       â”‚                      â”‚                      â”‚                      â”‚
   â”Œâ”€â”€â”€â”´â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”´â”€â”€â”€â”
   â”‚                    3. EXECUTING A SWAP                                     â”‚
   â””â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”˜
       â”‚                      â”‚                      â”‚                      â”‚
       â”‚                      â”‚                      â”‚ approve(pair, amtIn) â”‚
       â”‚                      â”‚                      â”‚â—„â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤
       â”‚ swap(amt0Out,amt1Out,to,data)               â”‚                      â”‚
       â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â–ºâ”‚                      â”‚
       â”‚                      â”‚                      â”‚ transferFrom(A,amtIn)â”‚
       â”‚                      â”‚                      â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â–ºâ”‚
       â”‚                      â”‚                      â”‚ transfer(B,amtOut)   â”‚
       â”‚                      â”‚                      â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â–ºâ”‚
       â”‚                      â”‚                      â”‚ update reserves      â”‚
       â”‚                      â”‚                      â”‚â—„â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤
       â”‚                      â”‚                      â”‚                      â”‚
   â”Œâ”€â”€â”€â”´â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”´â”€â”€â”€â”
   â”‚                    4. REMOVING LIQUIDITY                                   â”‚
   â””â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”˜
       â”‚                      â”‚                      â”‚                      â”‚
       â”‚ burn(to)             â”‚                      â”‚                      â”‚
       â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â–ºâ”‚                      â”‚
       â”‚                      â”‚                      â”‚ transfer(A,amount0)  â”‚
       â”‚                      â”‚                      â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â–ºâ”‚
       â”‚                      â”‚                      â”‚ transfer(B,amount1)  â”‚
       â”‚                      â”‚                      â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â–ºâ”‚
       â”‚ burn LP tokens       â”‚                      â”‚                      â”‚
       â”‚â—„â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤                      â”‚
       â”‚                      â”‚                      â”‚                      â”‚
```

## ðŸ’° Economics & Pricing

### Constant Product Formula
```
x * y = k (constant)
```

Where:
- `x` = Reserve of TokenA
- `y` = Reserve of TokenB  
- `k` = Constant (invariant)

### Price Calculation Example

```
                    BEFORE TRADE                           AFTER TRADE
                â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”               â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
                â”‚   Reserve TokenA    â”‚               â”‚   Reserve TokenA    â”‚
                â”‚    1000 tokens      â”‚               â”‚    1100 tokens      â”‚
                â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜               â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
                          â”‚                                     â”‚
                â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â–¼â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”               â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â–¼â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
                â”‚   Reserve TokenB    â”‚               â”‚   Reserve TokenB    â”‚
                â”‚    2000 tokens      â”‚               â”‚   ~1819 tokens      â”‚
                â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜               â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
                          â”‚                                     â”‚
                â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â–¼â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”               â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â–¼â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
                â”‚       Price         â”‚               â”‚     New Price       â”‚
                â”‚ 2000/1000 = 2.00    â”‚               â”‚  1819/1100 â‰ˆ 1.65  â”‚
                â”‚                     â”‚               â”‚                     â”‚
                â”‚ 1 TokenA = 2 TokenB â”‚               â”‚ 1 TokenA = 1.65 TokenB
                â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜               â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
                          â–²                                     â–²
                          â”‚                                     â”‚
                     Original State                      After selling 100 TokenA
                                                        User gets ~181 TokenB

                            Formula: k = x Ã— y = 1000 Ã— 2000 = 2,000,000
                            After trade: k = 1100 Ã— 1819 = 2,000,900 (slightly higher due to fees)
```

### Fee Structure
- **Trading Fee**: 0.3% of each trade
- **LP Providers**: Get ~0.25% 
- **Protocol**: Gets ~0.05% (if feeTo is set)

## ðŸ”§ Key Functions Explained

### Factory Functions

| Function | Purpose | Access |
|----------|---------|--------|
| `createPair(tokenA, tokenB)` | Creates new trading pair | Public |
| `getPair(tokenA, tokenB)` | Returns pair address | View |
| `allPairs(index)` | Returns pair at index | View |
| `setFeeTo(address)` | Sets protocol fee recipient | feeToSetter only |
| `setFeeToSetter(address)` | Changes governance | feeToSetter only |

### Pair Functions

| Function | Purpose | Access |
|----------|---------|--------|
| `mint(to)` | Add liquidity, mint LP tokens | Public |
| `burn(to)` | Remove liquidity, burn LP tokens | Public |
| `swap(amount0Out, amount1Out, to, data)` | Execute token swap | Public |
| `getReserves()` | Get current token reserves | View |
| `price0CumulativeLast()` | Oracle price data | View |

## ðŸ›¡ï¸ Security Features

```
                    â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
                    â”‚                SECURITY MECHANISMS                  â”‚
                    â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
                                      â”‚
        â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¼â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
        â”‚                             â”‚                                 â”‚
   â”Œâ”€â”€â”€â”€â–¼â”€â”€â”€â”€â”                  â”Œâ”€â”€â”€â”€â–¼â”€â”€â”€â”€â”                      â”Œâ”€â”€â”€â”€â”€â–¼â”€â”€â”€â”€â”€â”
   â”‚ðŸ”’ LOCK  â”‚                  â”‚ðŸ” SAFE  â”‚                      â”‚ðŸ§® SAFEMATHâ”‚
   â”‚         â”‚                  â”‚TRANSFER â”‚                      â”‚           â”‚
   â”‚Reentrancyâ”‚                  â”‚         â”‚                      â”‚Overflow   â”‚
   â”‚Protectionâ”‚                  â”‚Handles  â”‚                      â”‚Protection â”‚
   â””â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”˜                  â”‚Failures â”‚                      â””â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”˜
        â”‚                       â””â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”˜                            â”‚
        â”‚                            â”‚                                 â”‚
   â”Œâ”€â”€â”€â”€â–¼â”€â”€â”€â”€â”                  â”Œâ”€â”€â”€â”€â–¼â”€â”€â”€â”€â”                      â”Œâ”€â”€â”€â”€â”€â–¼â”€â”€â”€â”€â”€â”
   â”‚PREVENTS:â”‚                  â”‚PREVENTS:â”‚                      â”‚PREVENTS:  â”‚
   â”‚         â”‚                  â”‚         â”‚                      â”‚           â”‚
   â”‚â€¢ Double â”‚                  â”‚â€¢ Failed â”‚                      â”‚â€¢ Integer  â”‚
   â”‚  calls  â”‚                  â”‚  tokens â”‚                      â”‚  overflow â”‚
   â”‚â€¢ Attack â”‚                  â”‚â€¢ Locked â”‚                      â”‚â€¢ Math     â”‚
   â”‚  vectorsâ”‚                  â”‚  funds  â”‚                      â”‚  errors   â”‚
   â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜                  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜                      â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜

                               â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
                               â”‚   âœ… VALIDATION     â”‚
                               â”‚                     â”‚
                               â”‚ â€¢ Non-zero amounts  â”‚
                               â”‚ â€¢ Valid addresses   â”‚
                               â”‚ â€¢ Proper balances   â”‚
                               â”‚ â€¢ Authorized calls  â”‚
                               â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
```

## ðŸŽ¯ Use Cases

### 1. **Decentralized Trading**
```
ðŸ‘¤ TRADER                           ï¿½ PAIR                         ðŸ¤– AMM ENGINE
   â”‚                                   â”‚                                â”‚
   â”‚ "I want TokenB"                   â”‚                                â”‚
   â”‚ "I have TokenA"                   â”‚                                â”‚
   â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â–ºâ”‚                                â”‚
   â”‚                                   â”‚ Calculate exchange rate        â”‚
   â”‚                                   â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â–ºâ”‚
   â”‚                                   â”‚                                â”‚
   â”‚                                   â”‚ Rate: 1 TokenA = 1.8 TokenB   â”‚
   â”‚                                   â”‚â—„â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤
   â”‚                                   â”‚                                â”‚
   â”‚ Approve & Send 100 TokenA         â”‚                                â”‚
   â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â–ºâ”‚ Execute swap                   â”‚
   â”‚                                   â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â–ºâ”‚
   â”‚                                   â”‚                                â”‚
   â”‚ Receive ~180 TokenB               â”‚ Update reserves & pricing      â”‚
   â”‚â—„â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤â—„â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤
```

### 2. **Liquidity Provision**
```
ðŸ‘¤ LP PROVIDER                      ðŸ’± PAIR                         ï¿½ REWARDS
   â”‚                                   â”‚                                â”‚
   â”‚ Deposit 1000 TokenA               â”‚                                â”‚
   â”‚ Deposit 2000 TokenB               â”‚                                â”‚
   â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â–ºâ”‚                                â”‚
   â”‚                                   â”‚ Mint LP tokens                 â”‚
   â”‚                                   â”‚ = âˆš(1000 Ã— 2000) = 1414       â”‚
   â”‚                                   â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â–ºâ”‚
   â”‚                                   â”‚                                â”‚
   â”‚ Receive 1414 LP tokens            â”‚                                â”‚
   â”‚â—„â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤                                â”‚
   â”‚                                   â”‚                                â”‚
   â”‚        ... Time passes ...        â”‚                                â”‚
   â”‚        Traders use pool           â”‚ Collect 0.3% fees             â”‚
   â”‚                                   â”‚â—„â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤
   â”‚                                   â”‚                                â”‚
   â”‚ Can redeem anytime for:           â”‚                                â”‚
   â”‚ â€¢ Original tokens + fees          â”‚                                â”‚
   â”‚â—„â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤                                â”‚
```

### 3. **Price Discovery & Arbitrage**
```
ðŸª ARBITRAGEUR                      ðŸ’± OBOSWAP PAIR                 ðŸ“Š EXTERNAL MARKET
   â”‚                                   â”‚                                â”‚
   â”‚ Check prices                      â”‚                                â”‚
   â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â–ºâ”‚ TokenA/TokenB = 1.8           â”‚
   â”‚                                   â”‚                                â”‚
   â”‚                                   â”‚                                â”‚
   â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â–ºâ”‚ TokenA/TokenB = 2.0
   â”‚                                   â”‚                                â”‚
   â”‚ OPPORTUNITY DETECTED!             â”‚                                â”‚
   â”‚ Buy cheap on Oboswap             â”‚                                â”‚
   â”‚ Sell expensive on external        â”‚                                â”‚
   â”‚                                   â”‚                                â”‚
   â”‚ Buy TokenB with TokenA            â”‚                                â”‚
   â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â–ºâ”‚ Price moves toward 2.0         â”‚
   â”‚                                   â”‚                                â”‚
   â”‚ Arbitrage continues until         â”‚                                â”‚
   â”‚ prices are balanced               â”‚                                â”‚
   â”‚â—„â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤ Final price â‰ˆ 2.0             â”‚
```

## ðŸš€ Deployed Contracts (Thane Testnet)

| Contract | Address | Purpose |
|----------|---------|---------|
| **Factory** | `0x5FbDB2315678afecb367f032d93F642f64180aa3` | Creates & manages pairs |
| **TokenA** | `0xe7f1725E7734CE288F8367e1Bb143E90bb3F0512` | Test token for trading |
| **TokenB** | `0x9fE46736679d2D9a65F0992F2272dE9f3c7fa6e0` | Test token for trading |
| **Pair** | `0x95f2EDe6aDC63329053E7E7feD420D725f84D9Fa` | TokenA/TokenB trading pair |

## ðŸ”® Future Enhancements

1. **Router Contract** - User-friendly interface for multi-hop swaps
2. **Governance Token** - Decentralized protocol governance  
3. **Farming Contracts** - Liquidity mining incentives
4. **Cross-chain Bridges** - Multi-network support
5. **Advanced Orders** - Limit orders, stop-loss, etc.

---

> **Note**: This is a Uniswap V2 fork customized for the Oboswap ecosystem. The core AMM mechanics remain the same while being optimized for the Thane network.

